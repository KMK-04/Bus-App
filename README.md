# Bus Alarm App

버스 도착 알림, 즐겨찾기 관리, 커스텀 알림음 기능을 제공하는 Android 앱입니다.
[작동 영상](https://www.youtube.com/watch?v=nTxTyCJEMLo)

---
## 주요 기능

### 1. 버스 도착 실시간 알림 서비스
- **정류장/노선/차량번호별 도착 정보**를 실시간 조회
- **특정 차량번호(busname)의 도착 시간이 5분 이하일 때** 진동/음악/알림으로 알려줌
- 알림에는 **도착 예정 시간, 버스번호(plateNo1, plateNo2), 남은 시간**이 모두 표시됨
- 두 정거장을 거치는 버스 검색 기능

### 2. 즐겨찾기 관리
- 즐겨찾기한 버스/정류장 목록을 **setActivity**에서 한눈에 확인
- 각 즐겨찾기는 **이름 변경** 및 **삭제** 가능
- 데이터는 SharedPreferences에 저장

### 3. 커스텀 알림음
- 알람 발생 시, **내부 저장공간/Music/m.mp3** 파일이 있으면 이를 재생
- 파일이 없거나 오류 발생 시 앱 내 기본 알림음(`res/raw/my_alarm.mp3`) 재생
- Android 13 이상: `READ_MEDIA_AUDIO` 권한, 이하: `READ_EXTERNAL_STORAGE` 권한 필요 (런타임 요청 필수)

### 4. 기타
- 앱이 백그라운드/화면 꺼짐 상태에서도 정상 동작하도록 **포그라운드 서비스**로 구현
- 알림 클릭 시 앱 실행 또는 원하는 화면 이동 가능
- 위치 정보에 기반하여 근처 정류장 검색 기능
- 백그라운드 서비스에서 현재 위치를 기록하고 지도에 그동안 기록된 위치를 표시하는 기능# Bus Alarm App

버스 도착 알림, 즐겨찾기 관리, 커스텀 알림음 기능을 제공하는 Android 앱입니다.

---

## 주요 기능

### 1. 버스 도착 실시간 알림 서비스
- **정류장/노선/차량번호별 도착 정보**를 실시간 조회
- **특정 차량번호(busname)의 도착 시간이 5분 이하일 때** 진동/음악/알림으로 알려줌
- 알림에는 **도착 예정 시간, 버스번호(plateNo1, plateNo2), 남은 시간**이 모두 표시됨

### 2. 즐겨찾기 관리
- 즐겨찾기한 버스/정류장 목록을 **setActivity**에서 한눈에 확인
- 각 즐겨찾기는 **이름 변경** 및 **삭제** 가능
- 데이터는 SharedPreferences에 저장

### 3. 커스텀 알림음
- 알람 발생 시, **내부 저장공간/Music/m.mp3** 파일이 있으면 이를 재생
- 파일이 없거나 오류 발생 시 앱 내 기본 알림음(`res/raw/my_alarm.mp3`) 재생
- Android 13 이상: `READ_MEDIA_AUDIO` 권한, 이하: `READ_EXTERNAL_STORAGE` 권한 필요 (런타임 요청 필수)

### 4. 기타
- 앱이 백그라운드/화면 꺼짐 상태에서도 정상 동작하도록 **포그라운드 서비스**로 구현
- 알림 클릭 시 앱 실행 또는 원하는 화면 이동 가능
- 위치 정보에 기반하여 근처 정류장 검색 기능
- 백그라운드 서비스에서 현재 위치를 기록하고 지도에 그동안 기록된 위치를 표시하는 기능

---

## 설치 및 사용법

1. **앱 설치**
   - Android Studio에서 빌드 또는 APK 설치

2. **권한 허용**
   - 앱 실행 시 저장소(오디오) 권한 요청을 허용해야 커스텀 알림음 사용 가능

3. **커스텀 알림음 등록**
   - `내부 저장공간/Music/` 폴더에 음악 파일을 복사
   - (폴더 위치 예시: `/storage/emulated/0/Music/m.mp3`)

4. **즐겨찾기 추가/삭제/이름변경**
   - 앱 내 setActivity 화면에서 즐겨찾기 관리

---

## 주요 코드 예시

### 커스텀 알림음 재생

